<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="report_purchasrequisition_document">
    <t t-call="web.external_layout">
        

        <h1 class="text-center">Purchase Requisition</h1>
        <br/>
        <br/>


        <div class="row">
            <div class="col-6">
                <span class="col-6">Requisition No : <span class="col-6" t-field="o.sequence"/></span>
            </div>
            <div class="col-6">
               <span class="col-6">Purchase Quote Created : <span class="col-6" t-field="o.requisition_line_ids.product_id.code"/></span> 
            </div>
        </div>


        <br/>
        <div class="row">
            <div class="col-6">
                <span class="col-6">Location  Code :<span class="col-6" t-field="o.source_location_id"/></span>
            </div>
            <div class="col-6">
               <span class="col-6">Document Date           : <span class="col-6" t-field="o.requisition_date"/></span> 
            </div>
        </div>

        <br/>
        <div class="row">
            <div class="col-6">
                <span class="col-6">Status : <span class="col-6" t-field="o.state"/></span>
            </div>
            <div class="col-6">
               <span class="col-6">User Id                 : <span class="col-6" t-field="o.employee_id"/></span> 
            </div>
        </div>
        <br/>
        <br/>
        <!-- table -->

        <div class="row">
            <div class="col-12">
                <t t-set="i" t-value="1" />
                <table class="table table-bordered" >
                    <thead style="display: table-row-group">
                        <tr>
                            <th class="text-left"  scope="col">Sr No</th>
                            <th class="text-left"  scope="col">Date Of Delivery</th>
                            <th class="text-left"  scope="col">Type</th>
                            <th class="text-left"  scope="col">Code</th>
                            <th class="text-left"  scope="col">Description</th>
                            <th class="text-left"  scope="col">UOM</th>
                            <th class="text-left"  scope="col">Quantity</th>
                            <th class="text-left"  scope="col">Available Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="o.requisition_line_ids" t-as="requisition_line">
                            <tr>
                                <td class="text-left">
                                 <span t-esc="i"/> 
                                    <t t-set="i" t-value="i+1"/>
                                </td>
                                <td class="text-center">
                                    <span t-field="o.received_date"/> 
                                </td>
                                <td>
                                    <span >type</span>
                                </td>
                                <td>
                                    <span t-field="requisition_line.product_id.code"/> 
                                </td>
                                <td>
                                    <span t-field="requisition_line.description"/> 
                                </td>
                                <td>
                                    <span t-field="requisition_line.uom_id" />
                                </td>
                                <td>
                                    <span t-field="requisition_line.qty"/> 
                                </td>
                                <td>
                                    <span t-field="requisition_line.available_qty"/> 
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </div>

        <br/>
        <br/>
        <div class="row">               
            <div class="col-6">
                <span class="col-6">Print On : <span class="col-6" t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d %H:%M')"/></span>
            </div>
            <div class="col-6">
               <span class="col-6">User : <span class="col-6" t-field="user.name"/></span> 
            </div>
        </div>

      
        <div class="oe_structure"/>
      
    </t>
</template>

<template id="report_purchasrequisition">
    <t t-call="web.external_layout">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="AG_buhaleeba_reports.report_purchasrequisition_document" />
            </t>
        </t>
    </t>
</template>
</odoo>
